<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <link rel="canonical" href="{{ canonical_url }}">
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    {%- if settings.favicon_icon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon_icon | image_url: width: 32, height: 32 }}">
    {%- endif -%}
    <title>
      {{ page_title }}
      {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
      {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
    </title>
    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}
    {% render 'meta-tags' %}
    {{ content_for_header }}
    {% render 'theme-variables' %}
    {{- 'splide-core.css' | asset_url | stylesheet_tag -}}
    {%- if request.design_mode -%}
      <script src="{{ 'splide-init.js' | asset_url }}" defer></script>
    {%- endif -%}
    {%- if settings.enable_age_popup -%}
      {{- 'age-verifier-modal.css' | asset_url | stylesheet_tag -}}
    {%- endif -%}
    {{ 'base.css' | asset_url | stylesheet_tag }}
    {%- if settings.enable_hover_anims -%}
      {{ 'css-animations.css' | asset_url | stylesheet_tag }}
    {%- endif -%}
    <script>
      document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    </script>
    <script src="{{ 'constants.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'pubsub.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'global.js' | asset_url }}" defer></script>
  </head>
  <body>
    <div id="page-wrapper">
      <a class="skip-to-content-link visually-hidden" href="#MainContent">
        {{ 'accessibility.skip_to_content' | t }}
      </a>
      
      {%- liquid
        render 'icons-data', use_ref: true
        render 'cart-inventory'
        render 'cart-show'
        render 'compare-show'
        
        sections 'header-group'
      -%}
      {%- if settings.enable_age_popup -%}
        {%- render 'age-verifier-modal' -%}
        <script defer>
          const button = document.getElementById('age-validator-fail');
          button.addEventListener('click', function(e){
            e.preventDefault();
            const errorContainer = document.getElementById('age-error-container');
            errorContainer.classList.remove('hidden');
          });
        </script>
      {%- endif -%}

      <main id="MainContent" role="main" tabindex="-1">
        {{ content_for_layout }}
      </main>

      {% sections 'footer-group' %}

      <ul hidden>
        <li id="a11y-refresh-page-message">{{ 'accessibility.refresh_page' | t }}</li>
        <li id="a11y-new-window-message">{{ 'accessibility.link_messages.new_window' | t }}</li>
      </ul>

      <script>
        window.shopUrl = '{{ request.origin }}';
        window.routes = {
          cart_add_url: '{{ routes.cart_add_url }}',
          cart_change_url: '{{ routes.cart_change_url }}',
          cart_update_url: '{{ routes.cart_update_url }}',
          cart_url: '{{ routes.cart_url }}',
          predictive_search_url: '{{ routes.predictive_search_url }}'
        };

        window.cartStrings = {
          error: `{{ 'sections.cart.cart_error' | t }}`,
          quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`,
          shippingAmount: `{{ 'sections.cart.free_ship.free_html' | t }}`,
          minOrderAlert: `{{ 'sections.cart.min_order_alert' | t }}`,
          minOrderText: `{{ 'sections.cart.min_order_text' | t: value: '[value]' }}`
        }

        window.variantStrings = {
          addToCart: `{{ 'sections.products.product.add_to_cart' | t }}`,
          soldOut: `{{ 'sections.products.product.sold_out' | t }}`,
          unavailable: `{{ 'sections.products.product.unavailable' | t }}`,
          unavailable_with_option: `{{ 'sections.products.product.value_unavailable' | t: option_value: '[value]' }}`
        }

        window.accessibilityStrings = {
          imageAvailable: `{{ 'sections.products.product.media.image_available' | t: index: '[index]' }}`,
          shareSuccess: `{{ 'general.share.success_message' | t }}`,
          pauseSlideshow: `{{ 'sections.slideshow.pause_slideshow' | t }}`,
          playSlideshow: `{{ 'sections.slideshow.play_slideshow' | t }}`,
          compareAddbutton: `{{ 'sections.products.product.comparelist.add' | t: product: '[product_name]' }}`,
          compareRemovebutton: `{{ 'sections.products.product.comparelist.remove' | t: product: '[product_name]' }}`,
          inCartZero: `{{ 'sections.header_ut_bar.a11y.cart_count.zero' | t }}`,
          inCartOne: `{{ 'sections.header_ut_bar.a11y.cart_count.one' | t: count: '[cart_count]' }}`,
          inCartOther: `{{ 'sections.header_ut_bar.a11y.cart_count.other' | t: count: '[cart_count]' }}`,
          newsletterInValidMessage: `{{ 'accessibility.newsletter.invalid_message' | t }}`,
          newsletterValidMessage: `{{ 'accessibility.newsletter.valid_message' | t }}`
        }

        window.additionalStrings = {
          countdown_days_label: `{{ 'additions.countdown_timer.days_label' | t }}`,
          countdown_hours_label: `{{ 'additions.countdown_timer.hours_label' | t }}`,
          countdown_min_label: `{{ 'additions.countdown_timer.min_label' | t }}`,
          countdown_sec_label: `{{ 'additions.countdown_timer.sec_label' | t }}`,
          slideshow: {
            prev: `{{ 'sections.slideshow.previous_slideshow' | t }}`,
            next: `{{ 'sections.slideshow.next_slideshow' | t }}`,
            first: `{{ 'additions.slideshow.first' | t }}`,
            last: `{{ 'additions.slideshow.last' | t }}`,
            play: `{{ 'additions.slideshow.play' | t }}`,
            pause: `{{ 'additions.slideshow.pause' | t }}`,
            carousel: `{{ 'additions.slideshow.carousel' | t }}`,
            slide: `{{ 'additions.slideshow.slide' | t }}`,
            select: `{{ 'additions.slideshow.select' | t }}`
          },
          compare: {
            limitExceed: `{{ 'accessibility.compare.limit_exceed' | t }}`
          }
        }
        window.money_format = '{{ shop.money_format }}';
        window.onload = function () {
          var url = window.location.href.split("#");
          if(url[1] == 'contact_form'){
            var element = document.getElementById("page-wrapper");
            element.classList.add("hidefootersection");
          }
        };
      </script>
      {% if request.design_mode == false %}
        <script>
          const createSingleInstanceOfJS = (assetURL, sectionSelector) => {
          const section = document.querySelector(sectionSelector);
          checkElement(sectionSelector)
          .then((element) => {
            const instance = document.querySelector('script[src*="' + assetURL + '"]');
            if (instance === null) {
              const jsScript = document.createElement("script");
              jsScript.type = "text/javascript";
              jsScript.src = assetURL;
              document.body.appendChild(jsScript);
            }
          })
          }
          const createSingleInstanceOfCSS = (assetURL, sectionSelector) => {
            const section = document.querySelector(sectionSelector);
            checkElement(sectionSelector)
            .then((element) => {
              const instance = document.querySelector('link[href*="' + assetURL + '"]');
              if (instance === null) {
                const cssLink = document.createElement("link");
                cssLink.rel = "stylesheet";
                cssLink.media = "screen";
                cssLink.href = assetURL;
                document.body.appendChild(cssLink);
              }
            })
          }
          createSingleInstanceOfJS('{{ "splide-init.js" | asset_url }}', '.splide');
          function rafAsync() {
            return new Promise(resolve => {
              requestAnimationFrame(resolve);
            });
          }
          async function checkElement(selector) {
            let querySelector = null;
            while (querySelector === null) {
              await rafAsync();
              querySelector = document.querySelectorAll(selector);
            }
            return querySelector;
          }
        </script>
      {% endif %}
    </div>
  </body>
</html>
